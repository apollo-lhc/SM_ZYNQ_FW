From b1c2c202ecdb9a8773e3b0c2a8b7d583d476880f Mon Sep 17 00:00:00 2001
From: Dan Gastler <dgastler@gmail.com>
Date: Fri, 25 Jun 2021 15:47:39 -0400
Subject: [PATCH 6/9] Moved which 7s fsbl hooks we use

---
 lib/sw_apps/zynq_fsbl/src/fsbl_hooks.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/sw_apps/zynq_fsbl/src/fsbl_hooks.c b/lib/sw_apps/zynq_fsbl/src/fsbl_hooks.c
index d56dde7..6dacc56 100644
--- a/lib/sw_apps/zynq_fsbl/src/fsbl_hooks.c
+++ b/lib/sw_apps/zynq_fsbl/src/fsbl_hooks.c
@@ -84,7 +84,6 @@ u32 FsblHookAfterBitstreamDload(void)
 	 * User logic to be added here.
 	 * Errors to be stored in the status variable and returned
 	 */
-	ProgramSI();
 	fsbl_printf(DEBUG_INFO, "In FsblHookAfterBitstreamDload function \r\n");
 
 	return (Status);
@@ -113,6 +112,7 @@ u32 FsblHookBeforeHandoff(void)
 	 * Errors to be stored in the status variable and returned
 	 */
 	fsbl_printf(DEBUG_INFO,"In FsblHookBeforeHandoff function \r\n");
+	ProgramSI();
 
 	return (Status);
 }
-- 
1.8.3.1

